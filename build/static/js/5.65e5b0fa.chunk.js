(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[5],{88:function(e,t){},94:function(e,t,a){"use strict";a.r(t);var n=a(92),c=a(44),r=a(0),s=a.n(r),l=a(59),i=a.n(l),o=a(91),m=a.n(o);var u=function(e){var t=e.index,a=e.message,n=e.time,c=e.otherUserMsg,r=e.userName,l="text-right";"IMG"===e.type&&(a=s.a.createElement("img",{src:a,alt:"img",style:{height:"100px"}})),c&&(l="text-left");var i=s.a.createElement("div",{className:c?"msg-bubble-right":"msg-bubble-left"},s.a.createElement("div",{className:"small text-black "+l,style:{color:"antiquewhite",fontWeight:"700"}},r),s.a.createElement("div",{className:"text-small mb-0 text-white text-wrap "+l},a));return c?(l="text-right",s.a.createElement("div",{className:"media  mb-1  message",key:t},s.a.createElement("div",{className:"media-body ml-2"},i,s.a.createElement("p",{className:"small text-muted text-left"},n)))):s.a.createElement("div",{className:"media ml-auto mb-1 message",key:t},s.a.createElement("div",{className:"media-body mr-2 "},i,s.a.createElement("p",{className:"small text-muted text-right"},n)))};t.default=function(e){var t=e.location,a=Object(r.useState)(),l=Object(c.a)(a,2),o=l[0],d=l[1],p=Object(r.useState)([]),b=Object(c.a)(p,2),f=b[0],g=b[1],h=Object(r.useState)(""),E=Object(c.a)(h,2),v=E[0],y=E[1],N=Object(r.useState)([]),j=Object(c.a)(N,2),x=j[0],O=j[1],w=Object(r.useState)(!1),k=Object(c.a)(w,2),C=k[0],S=k[1],U=Object(r.useRef)();function R(e){!function(e){var t=new FileReader;t.onload=function(t){var a={};a.id=o,a.file=t.target.result,a.fileName=e.name,a.type="IMG",U.current.emit("base64 file",a)},t.readAsDataURL(e)}(e.target.files[0])}return Object(r.useEffect)((function(){U.current=i.a.connect("/"),U.current.emit("join",t.state.userName),d(t.state.userName)}),[t]),Object(r.useEffect)((function(){U.current.on("received message",(function(e){g((function(t){return[].concat(Object(n.a)(t),[e])}))})),U.current.on("user-connected",(function(e){O(e)})),U.current.on("base64 file",(function(e){g((function(t){return[].concat(Object(n.a)(t),[e])}))}))}),[]),0===x.length?s.a.createElement("div",{className:"justify-center container-bgcolor jumbotron  join-chat"},"Please join the Chat Room"):s.a.createElement("div",{className:"container justify-center container-bgcolor"},s.a.createElement("div",{className:"row mt-2"},s.a.createElement("div",{className:"col-md-4 background-white",style:{paddingRight:0,paddingLeft:0}},s.a.createElement("div",{className:"activeUsers text-center font-weight-bold"},"Active Users"),x.map((function(e){return s.a.createElement("div",{className:"users"},"\ud83d\udd35 ","string"!==typeof(t=e)?"":t.charAt(0).toUpperCase()+t.slice(1)," Joined the chat ");var t}))),s.a.createElement("div",{className:"col-md-8",style:{padding:0}},s.a.createElement("h5",{class:"card-title text-right activeUsers"},o),s.a.createElement("div",{className:"col-12 px-2 "},s.a.createElement("div",{className:"px-2 py-3 chat-box bg-white",style:{height:400}},f.map((function(e,t){return s.a.createElement(u,{otherUserMsg:e.id!==o,userName:e.id,message:e.body,type:e.type,index:t,time:(new Date).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})})}))),C?s.a.createElement(m.a,{onEmojiClick:function(e,t){y((function(e){return e+t.emoji}))}}):"",s.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={body:v,id:o,type:"Text"};S(!1),y(""),U.current.emit("send message",t)},class:"bg-light p-2"},s.a.createElement("div",{class:"input-group"},s.a.createElement("label",{class:"custom-file-upload"},s.a.createElement("i",{title:"send pics",class:"fa fa-upload","aria-hidden":"true"}),s.a.createElement("input",{type:"file",className:"form-control rounded-0 border-0 py-4 bg-light",onChange:function(e){return R(e)},autoComplete:"off",accept:"image/*",autoFocus:"on",placeholder:"type your message here..."})),s.a.createElement("button",{onClick:function(){return S(!C)},id:"clear",type:"button",title:"Emoji",className:"btn "},s.a.createElement("span",{role:"img","aria-labelledby":"jsx-a11y/accessible-emoji"},"\ud83d\ude1c")),s.a.createElement("input",{type:"text",className:"form-control rounded-0 border-1 py-4",value:v,onChange:function(e){return y(e.target.value)},autoComplete:"off",autoFocus:"on",placeholder:"type your message here..."}),s.a.createElement("div",{class:"input-group-append"},s.a.createElement("button",{type:"submit",className:"btn btn-success"},s.a.createElement("i",{class:"fa fa-paper-plane","aria-hidden":"true"})))))))))}}}]);
//# sourceMappingURL=5.65e5b0fa.chunk.js.map