(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[769],{100:function(e,t,a){"use strict";a.r(t);var o=a(1413),n=a(2982),r=a(885),c=a(2791),l=a(9271),m=a(242),s=a.n(m),u=a(2092),i=a(5980),d=a(9647);t.default=function(){var e=(0,c.useState)({userName:"",roomName:""}),t=(0,r.Z)(e,2),a=t[0],m=t[1],f=(0,c.useState)(),b=(0,r.Z)(f,2),p=b[0],N=b[1],h=(0,c.useState)(!1),E=(0,r.Z)(h,2),v=E[0],g=E[1],C=(0,c.useState)(),y=(0,r.Z)(C,2),Z=y[0],k=y[1],R=(0,u.e1)().addToast,S=(0,c.useRef)(),w=(0,l.k6)();return(0,c.useEffect)((function(){S.current=s().connect("/"),S.current.on("rooms",(function(e){N(Object.keys(e))})),S.current.on("create-room",(function(e){N((function(t){return[].concat((0,n.Z)(t),[e])})),R("".concat(e,"  Room create successfully"),{appearance:"success",autoDismiss:!0}),g(!1),k(""),m({userName:"",roomName:""})}))}),[]),c.createElement("div",{className:"section-1-container section-container"},c.createElement("div",{className:"container"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12\r offset-md-1 col-lg-8 offset-lg-2 \r d-flex justify-content-center \r align-items-center"},c.createElement("div",{className:"div-to-align"},Z?c.createElement("div",{className:"alert alert-danger"}," ",Z):"",c.createElement("div",{className:"card rounded-1 chat-room-card"},c.createElement("div",{className:"card-header chat-header-title"},c.createElement("h3",{className:"mb-0 text-center"},v?"Create Chat Room":"Random Chat")),c.createElement("div",{className:"card-body"},c.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),v?i.Z.post("/create",{user:a}).catch((function(e){k(e&&e.response&&e.response.data.error)})):(d.Z.authenticate(),i.Z.post("/join",{user:a}).then((function(e){200===e.status&&w.push("/chat",a)})).catch((function(e){k(e&&e.response&&e.response.data.error)})))},autoComplete:"off",id:"formLogin"},v?c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"uname"},"Room Name"),c.createElement("input",{type:"text",required:!0,"aria-describedby":"button-addon2",className:"form-control rounded-0 border-0 py-4 bg-light",value:a.roomName,onChange:function(e){return m((0,o.Z)((0,o.Z)({},a),{},{roomName:e.target.value}))},autoComplete:"off",autoFocus:"on",placeholder:"Please Enter room name"})):c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"uname"},"Room Name"),c.createElement("select",{className:"form-control rounded-0 border-0 bg-light",value:a.roomName,onChange:function(e){return m((0,o.Z)((0,o.Z)({},a),{},{roomName:e.target.value}))},required:!0}," ",c.createElement("option",{value:""}," -Select room - "),p&&p.map((function(e,t){return c.createElement("option",{key:t,value:e}," ",e)})))),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"uname"},"Name"),c.createElement("input",{type:"text",required:!0,"aria-describedby":"button-addon2",className:"form-control rounded-0 border-0 py-4 bg-light",value:a.userName,onChange:function(e){return m((0,o.Z)((0,o.Z)({},a),{},{userName:e.target.value}))},autoComplete:"off",autoFocus:"on",placeholder:"Please Enter your name"})),c.createElement("button",{type:"submit",className:"btn btn-success btn-block font-weight-bold"},v?" Create":"Join"),v?c.createElement("button",{type:"button",onClick:function(){g(!1),k(""),m({userName:"",roomName:""})},className:"btn btn-info btn-block font-weight-bold"},"Cancel"):"")))))),c.createElement("button",{onClick:function(){return g(!v)},title:"Create chat room",className:"btn btn-rounded float"},c.createElement("i",{className:"fa fa-plus my-float"}))))}},7020:function(){}}]);
//# sourceMappingURL=769.d22b87a4.chunk.js.map